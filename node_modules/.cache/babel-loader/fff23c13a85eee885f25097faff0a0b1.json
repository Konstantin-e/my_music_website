{"ast":null,"code":"var _jsxFileName = \"/Users/konstantine/Desktop/My Page/Sass/my_music_website/react/koi-music/src/components/Track.js\";\nimport React from 'react';\nimport track from '../audio/Deep.mp3';\n\nfunction Track() {\n  let bg = document.getElementsByClassName(\"bg\");\n  let tracks = document.getElementsByTagName(\"audio\");\n  let scrubberIds = [];\n  let scrubbers = document.getElementsByClassName(\"scrubber\"); //add play\n  // progress bar\n\n  function barStart(track, index) {\n    scrubberIds[index] = setInterval(frame, 100); //creates an id with respect to track number\n\n    function frame() {\n      if (track.ended || track.paused === true) {\n        clearInterval(scrubberIds[index]);\n      } else {\n        // console.log(track.currentTime);\n        scrubbers[index].setAttribute(\"value\", 100 * track.currentTime / track.duration);\n      }\n    }\n  }\n\n  for (let i = 0; i < scrubbers.length; i++) {\n    scrubbers[i].addEventListener(\"click\", progressLocation);\n  }\n\n  function progressLocation(event) {\n    let relativeTrack = event.srcElement.previousElementSibling.firstElementChild.firstElementChild;\n    let duration = relativeTrack.duration;\n    let scrollAmount = event.pageX - event.srcElement.offsetLeft; // max is width of .bg = 200\n\n    relativeTrack.currentTime = scrollAmount * duration / 200;\n  }\n\n  function play(event) {\n    console.log(click);\n\n    for (let i = 0; i < bg.length; i++) {\n      bg[i].addEventListener(\"click\", () => {\n        if (tracks[i].paused === true) {\n          for (let j = 0; j < tracks.length; j++) {\n            //pause all\n            tracks[j].pause();\n          }\n\n          tracks[i].play(); //play selected\n\n          barStart(tracks[i], i);\n        } else {\n          // console.log(tracks[i]);\n          tracks[i].pause(); // barStop();\n        } // console.log(bg[i].firstChild.nextSibling.classList.contains(\"play\"));\n\n\n        bg[i].firstChild.firstChild.classList.toggle(\"paused\");\n\n        for (let j = 0; j < tracks.length; j++) {\n          if (bg[j].firstChild.firstChild.classList.contains(\"playing\")) {\n            //if something is playing turn it off\n            bg[j].firstChild.firstChild.classList.toggle(\"playing\");\n            bg[j].firstChild.firstChild.classList.toggle(\"paused\");\n          }\n        }\n\n        bg[i].firstChild.firstChild.classList.toggle(\"playing\"); //then turn on selected track\n\n        if (tracks[i].paused === true) {\n          //if the track audio is paused switch class to paused\n          bg[i].firstChild.firstChild.classList.toggle(\"playing\");\n          bg[i].firstChild.firstChild.classList.toggle(\"paused\");\n        } // if (bg[i].firstChild.nextSibling.classList.value == \"playing\") {\n        //   bg[i].insertAdjacentElement(\"afterend\", canv);\n        //   drawAudio(\"audio/\"+trackNames[i]);\n        // }\n\n      });\n    }\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"player\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"bg\",\n    onClick: play,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"paused\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"audio\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"source\", {\n    src: track,\n    type: \"audio/ogg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 13\n    }\n  }), \"Your browser does not support the audio element.\"))), /*#__PURE__*/React.createElement(\"progress\", {\n    className: \"scrubber\",\n    value: \"0\",\n    max: \"100\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 9\n    }\n  }));\n}\n\nexport default Track;","map":{"version":3,"sources":["/Users/konstantine/Desktop/My Page/Sass/my_music_website/react/koi-music/src/components/Track.js"],"names":["React","track","Track","bg","document","getElementsByClassName","tracks","getElementsByTagName","scrubberIds","scrubbers","barStart","index","setInterval","frame","ended","paused","clearInterval","setAttribute","currentTime","duration","i","length","addEventListener","progressLocation","event","relativeTrack","srcElement","previousElementSibling","firstElementChild","scrollAmount","pageX","offsetLeft","play","console","log","click","j","pause","firstChild","classList","toggle","contains"],"mappings":"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","sourcesContent":["import React from 'react'\nimport track from '../audio/Deep.mp3'\n\nfunction Track() {\n\n  let bg = document.getElementsByClassName(\"bg\");\n  let tracks = document.getElementsByTagName(\"audio\");\n  let scrubberIds = [];\n  let scrubbers = document.getElementsByClassName(\"scrubber\");\n\n  \n  //add play\n  \n  \n  // progress bar\n  function barStart(track, index) {\n     \n    scrubberIds[index] = setInterval(frame, 100); //creates an id with respect to track number\n  \n    function frame() {\n      if (track.ended || track.paused === true) {\n        clearInterval(scrubberIds[index]);\n      } else {\n        // console.log(track.currentTime);\n          scrubbers[index].setAttribute(\"value\", 100*track.currentTime/track.duration);\n      }\n    }\n  }\n  \n  \n  for (let i = 0; i < scrubbers.length; i++) {\n    scrubbers[i].addEventListener(\"click\", progressLocation);\n  }\n  \n  function progressLocation(event) {\n  \n    let relativeTrack = event.srcElement.previousElementSibling.firstElementChild.firstElementChild;\n    let duration = relativeTrack.duration;\n    let scrollAmount = event.pageX - event.srcElement.offsetLeft; // max is width of .bg = 200\n    relativeTrack.currentTime = scrollAmount * duration / 200;\n  }\n\n  function play(event) {\n    console.log(click)\n    for (let i = 0; i < bg.length; i++) {\n      bg[i].addEventListener(\"click\", () => {\n        if (tracks[i].paused === true) {\n          for (let j = 0; j < tracks.length; j++) { //pause all\n            tracks[j].pause();\n          }\n          tracks[i].play(); //play selected\n          barStart(tracks[i], i);\n        } else {\n          // console.log(tracks[i]);\n          tracks[i].pause();\n          // barStop();\n        }\n        // console.log(bg[i].firstChild.nextSibling.classList.contains(\"play\"));\n        bg[i].firstChild.firstChild.classList.toggle(\"paused\"); \n        for (let j = 0; j < tracks.length; j++) {\n          if (bg[j].firstChild.firstChild.classList.contains(\"playing\")) {  //if something is playing turn it off\n            bg[j].firstChild.firstChild.classList.toggle(\"playing\"); \n            bg[j].firstChild.firstChild.classList.toggle(\"paused\");\n          }\n        }\n        bg[i].firstChild.firstChild.classList.toggle(\"playing\");  //then turn on selected track\n        if (tracks[i].paused === true) { //if the track audio is paused switch class to paused\n            bg[i].firstChild.firstChild.classList.toggle(\"playing\"); \n            bg[i].firstChild.firstChild.classList.toggle(\"paused\");\n        }\n        // if (bg[i].firstChild.nextSibling.classList.value == \"playing\") {\n        //   bg[i].insertAdjacentElement(\"afterend\", canv);\n        //   drawAudio(\"audio/\"+trackNames[i]);\n        // }\n      } );\n    }\n  }\n\n  return(\n    <div className=\"player\">\n      <div className=\"bg\" onClick={play}>\n        <div className=\"paused\">\n          <audio>\n            <source src={track} type=\"audio/ogg\" />\n          Your browser does not support the audio element.\n          </audio>\n        </div>\n      </div>\n        <progress className=\"scrubber\" value=\"0\" max=\"100\"></progress>\n    </div>\n  )\n}\n\nexport default Track"]},"metadata":{},"sourceType":"module"}