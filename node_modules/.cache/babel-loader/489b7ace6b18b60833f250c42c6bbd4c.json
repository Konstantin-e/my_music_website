{"ast":null,"code":"var _jsxFileName = \"/Users/konstantine/Desktop/My Page/Sass/my_music_website/react/koi-music/src/components/Track.js\";\nimport React from 'react';\n\nfunction Track(props) {\n  let bg = document.getElementsByClassName(\"bg\");\n  let tracks = document.getElementsByTagName(\"audio\");\n  let scrubberIds = [];\n  let scrubbers = document.getElementsByClassName(\"scrubber\");\n\n  for (let i = 0; i < bg.length; i++) {\n    bg[i].addEventListener(\"click\", () => {\n      if (tracks[i].paused === true) {\n        //if track is paused\n        for (let j = 0; j < tracks.length; j++) {\n          //pause all tracks\n          tracks[j].pause();\n        }\n\n        tracks[i].play(); //play selected track\n\n        barStart(tracks[i], i); //start the progress bar of selected track\n      } else {\n        // console.log(tracks[i]);\n        tracks[i].pause(); //else pause selected track\n        // barStop();\n      } // console.log(bg[i].firstChild.nextSibling.classList.contains(\"play\"));\n\n\n      bg[i].firstChild.firstChild.classList.toggle(\"paused\"); // add or remove class name \"paused\" for styling\n\n      for (let j = 0; j < tracks.length; j++) {\n        //styling classes\n        if (bg[j].firstChild.firstChild.classList.contains(\"playing\")) {\n          //if something is playing turn it off\n          bg[j].firstChild.firstChild.classList.toggle(\"playing\");\n          bg[j].firstChild.firstChild.classList.toggle(\"paused\");\n        }\n      }\n\n      bg[i].firstChild.firstChild.classList.toggle(\"playing\"); //then turn on selected track\n\n      if (tracks[i].paused === true) {\n        //if the track audio is paused switch class to paused\n        bg[i].firstChild.firstChild.classList.toggle(\"playing\");\n        bg[i].firstChild.firstChild.classList.toggle(\"paused\");\n      }\n    });\n  } //add play\n  // progress bar\n\n\n  function barStart(track, index) {\n    scrubberIds[index] = setInterval(frame, 100); //creates an id with respect to track number\n\n    function frame() {\n      if (track.ended || track.paused === true) {\n        clearInterval(scrubberIds[index]);\n      } else {\n        // console.log(track.currentTime);\n        scrubbers[index].setAttribute(\"value\", 100 * track.currentTime / track.duration);\n      }\n    }\n  }\n\n  for (let i = 0; i < scrubbers.length; i++) {\n    scrubbers[i].addEventListener(\"click\", progressLocation);\n  }\n\n  function progressLocation(event) {\n    let relativeTrack = event.srcElement.previousElementSibling.firstElementChild.firstElementChild;\n    let duration = relativeTrack.duration;\n    let scrollAmount = event.pageX - event.srcElement.offsetLeft; // max is width of .bg = 200\n\n    relativeTrack.currentTime = scrollAmount * duration / 200;\n  }\n\n  function play(event) {\n    const {\n      firstChild\n    } = event.currentTarget.firstChild; // firstChild here is the audio element\n\n    console.log(firstChild); // if this track is paused\n\n    if (props.data.paused[props.id]) {\n      // if the state says that this track is paused\n      // props.pauseAll() //this will change the paused state of all tracks to true\n      // toggle all styles to paused\n      // toggle selected track class to playing\n      firstChild.play(); //play selected track\n\n      props.changeState(props.id); //update parent state\n\n      firstChild.parentElement.classList.toggle(\"paused\"); // toggle style class\n\n      firstChild.parentElement.classList.toggle(\"playing\"); // toggle style class\n\n      startProgressBar();\n    } else {\n      // if track isn't paused pause it\n      firstChild.pause();\n      firstChild.parentElement.classList.toggle(\"paused\"); // toggle style class\n\n      firstChild.parentElement.classList.toggle(\"playing\"); // toggle style class\n      // props.changeState(props.id)\n    }\n  }\n\n  function startProgressBar() {\n    console.log('start progress bar');\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"player\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"bg\",\n    onClick: play,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"paused\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"audio\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"source\", {\n    src: props.path,\n    type: \"audio/ogg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 13\n    }\n  }), \"Your browser does not support the audio element.\"))), /*#__PURE__*/React.createElement(\"progress\", {\n    className: \"scrubber\",\n    value: \"0\",\n    max: \"100\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 9\n    }\n  }));\n}\n\nexport default Track;","map":{"version":3,"sources":["/Users/konstantine/Desktop/My Page/Sass/my_music_website/react/koi-music/src/components/Track.js"],"names":["React","Track","props","bg","document","getElementsByClassName","tracks","getElementsByTagName","scrubberIds","scrubbers","i","length","addEventListener","paused","j","pause","play","barStart","firstChild","classList","toggle","contains","track","index","setInterval","frame","ended","clearInterval","setAttribute","currentTime","duration","progressLocation","event","relativeTrack","srcElement","previousElementSibling","firstElementChild","scrollAmount","pageX","offsetLeft","currentTarget","console","log","data","id","changeState","parentElement","startProgressBar","path"],"mappings":"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","sourcesContent":["import React from 'react'\n\nfunction Track(props) {\n\n  let bg = document.getElementsByClassName(\"bg\");\n  let tracks = document.getElementsByTagName(\"audio\");\n  let scrubberIds = [];\n  let scrubbers = document.getElementsByClassName(\"scrubber\");\n\n\n  for (let i = 0; i < bg.length; i++) {\n    bg[i].addEventListener(\"click\", () => {\n      if (tracks[i].paused === true) { //if track is paused\n        for (let j = 0; j < tracks.length; j++) { //pause all tracks\n          tracks[j].pause();\n        }\n        tracks[i].play(); //play selected track\n        barStart(tracks[i], i);  //start the progress bar of selected track\n      } else {\n        // console.log(tracks[i]);\n        tracks[i].pause(); //else pause selected track\n        // barStop();\n      }\n      // console.log(bg[i].firstChild.nextSibling.classList.contains(\"play\"));\n      bg[i].firstChild.firstChild.classList.toggle(\"paused\"); // add or remove class name \"paused\" for styling\n      for (let j = 0; j < tracks.length; j++) {  //styling classes\n        if (bg[j].firstChild.firstChild.classList.contains(\"playing\")) {  //if something is playing turn it off\n          bg[j].firstChild.firstChild.classList.toggle(\"playing\"); \n          bg[j].firstChild.firstChild.classList.toggle(\"paused\");\n        }\n      }\n      bg[i].firstChild.firstChild.classList.toggle(\"playing\");  //then turn on selected track\n      if (tracks[i].paused === true) { //if the track audio is paused switch class to paused\n          bg[i].firstChild.firstChild.classList.toggle(\"playing\"); \n          bg[i].firstChild.firstChild.classList.toggle(\"paused\");\n      }\n    } );\n  }\n\n  \n  //add play\n  \n  \n  // progress bar\n  function barStart(track, index) {\n     \n    scrubberIds[index] = setInterval(frame, 100); //creates an id with respect to track number\n  \n    function frame() {\n      if (track.ended || track.paused === true) {\n        clearInterval(scrubberIds[index]);\n      } else {\n        // console.log(track.currentTime);\n          scrubbers[index].setAttribute(\"value\", 100*track.currentTime/track.duration);\n      }\n    }\n  }\n  \n  \n  for (let i = 0; i < scrubbers.length; i++) {\n    scrubbers[i].addEventListener(\"click\", progressLocation);\n  }\n  \n  function progressLocation(event) {\n  \n    let relativeTrack = event.srcElement.previousElementSibling.firstElementChild.firstElementChild;\n    let duration = relativeTrack.duration;\n    let scrollAmount = event.pageX - event.srcElement.offsetLeft; // max is width of .bg = 200\n    relativeTrack.currentTime = scrollAmount * duration / 200;\n  }\n\n  function play(event) {\n    const {firstChild} = event.currentTarget.firstChild // firstChild here is the audio element\n    console.log(firstChild)\n    // if this track is paused\n    if (props.data.paused[props.id]) { // if the state says that this track is paused\n      // props.pauseAll() //this will change the paused state of all tracks to true\n      // toggle all styles to paused\n      // toggle selected track class to playing\n      firstChild.play() //play selected track\n      props.changeState(props.id) //update parent state\n      firstChild.parentElement.classList.toggle(\"paused\") // toggle style class\n      firstChild.parentElement.classList.toggle(\"playing\") // toggle style class\n      startProgressBar() \n    } else { // if track isn't paused pause it\n      firstChild.pause()\n      firstChild.parentElement.classList.toggle(\"paused\") // toggle style class\n      firstChild.parentElement.classList.toggle(\"playing\") // toggle style class\n      // props.changeState(props.id)\n    }\n    \n  }\n\n  function startProgressBar() {\n    console.log('start progress bar')\n  }\n\n  return(\n    <div className=\"player\">\n      <div className=\"bg\" onClick={play}>\n        <div className=\"paused\">\n          <audio>\n            <source src={props.path} type=\"audio/ogg\" />\n              Your browser does not support the audio element.\n          </audio>\n        </div>\n      </div>\n        <progress className=\"scrubber\" value=\"0\" max=\"100\"></progress>\n    </div>\n  )\n}\n\nexport default Track"]},"metadata":{},"sourceType":"module"}